{"version":3,"sources":["components/sections/Loading.js","components/layouts/Sidebar.js","components/sections/NewsCard.js","components/layouts/Breadcrumb.js","components/sections/FollowCategoryCard.js","components/pages/Category.js"],"names":["Loading","loading","hasMore","setPage","page","window","onscroll","pageYOffset","innerHeight","document","documentElement","scrollHeight","className","style","width","height","Sidebar","useState","subcategories","setSubcategories","trending","setTrending","getCategoryWithNewsCount","a","url","Host","Endpoints","category","axios","get","result","data","error","alert","getTrending","news","console","log","detail","useEffect","id","maxWidth","type","slice","map","value","index","to","slug","_id","name","postCount","convertToSlug","title","src","image","alt","author_id","uppercaseFirstLetter","backgroundImage","NewsCard","shortsData","setShareShort","Date","createdAt","toDateString","description","read_at","target","href","read_at_link","process","summary","onClick","shareID","shareSlug","Breadcrumb","FollowCategoryCard","props","user","authorCardData","followBtn","setFollowBtn","setLoading","followAction","followInfo","categoryId","userId","getUserToken","follow","post","headers","token","userName","shortsCount","followCount","borderRadius","role","Category","shorts","setShorts","setHasMore","size","useParams","newsID","getShortsByCategory","posts","length","Header","Footer"],"mappings":"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","file":"static/js/11.6d71683e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Loading = ({ loading, hasMore, setPage, page }) => {\r\n    if (hasMore !== false) {\r\n        window.onscroll = function () {\r\n            if (window.pageYOffset + window.innerHeight >= (document.documentElement.scrollHeight - 450)) {\r\n                setPage(page + 1);\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n                loading === true ? (\r\n                    <div className=\"row justify-content-center mb-2\">\r\n                        <div className=\"spinner-border\" style={{ width: \"3rem\", height: \"3rem\" }} ></div>\r\n                    </div>\r\n                ) : ('')\r\n            }\r\n            {\r\n                hasMore === false ?\r\n                    <div className=\"row text-center justify-content-center mb-2\">\r\n                        <p>You are all caught up ðŸ”¥</p>\r\n                    </div>\r\n                    : ''\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { topCategories, trendingPosts } from '../.././data/dummydata.json';\r\nimport { Host, convertToSlug, Endpoints, uppercaseFirstLetter } from \"../../helpers/comman_helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst Sidebar = () => {\r\n\r\n    const [subcategories, setSubcategories] = useState([]);\r\n    const [trending, setTrending] = useState([]);\r\n\r\n    const getCategoryWithNewsCount = async () => {\r\n        const url = Host + Endpoints.category + \"/\" + \"allList\";\r\n        const result = await axios.get(url);\r\n        if (result.data.error === true) {\r\n            alert('Please reload the app!');\r\n        } else {\r\n            setSubcategories(result.data.data);\r\n        }\r\n    }\r\n    const getTrending = async () => {\r\n        var url = Host + Endpoints.news + `/trending/news?page=1&size=3`;\r\n        const result = await axios.get(url);\r\n        if (result.data.error === true) {\r\n            console.log('Please reload the app!')\r\n        } else {\r\n            setTrending(result.data.data.detail)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getCategoryWithNewsCount();\r\n        getTrending();\r\n    }, [])\r\n    return (\r\n        <aside className=\"col-lg-3\">\r\n            <div className=\"offcanvas offcanvas-collapse offcanvas-end border-start ms-lg-auto\" id=\"blog-sidebar\" style={{ maxWidth: \"22rem\" }}>\r\n                <div className=\"offcanvas-header align-items-center shadow-sm\">\r\n                    <h2 className=\"h5 mb-0\">Sidebar</h2>\r\n                    <button className=\"btn-close ms-auto\" type=\"button\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div className=\"offcanvas-body py-grid-gutter py-lg-1 px-lg-4\" data-simplebar data-simplebar-auto-hide=\"true\">\r\n                    <div className=\"widget widget-links mb-grid-gutter pb-grid-gutter border-bottom mx-lg-2\">\r\n                        <h3 className=\"widget-title\">Shorts by categories!</h3>\r\n                        <ul className=\"widget-list\">\r\n                            {\r\n                                subcategories && subcategories.slice(0, 6).map((value, index) => (\r\n                                    <li key={index} className=\"widget-list-item\">\r\n                                        <Link className=\"widget-list-link d-flex justify-content-between align-items-center\" to={`/category/${value.slug}/${value._id}`}>\r\n                                            <span>{value.name}</span>\r\n                                            <span className=\"fs-xs text-muted ms-3\">{value.postCount}</span>\r\n                                        </Link>\r\n                                    </li>\r\n                                ))\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className=\"widget mb-grid-gutter pb-grid-gutter border-bottom mx-lg-2\">\r\n                        <h3 className=\"widget-title\">Trending posts</h3>\r\n                        {\r\n                            trending && trending.slice(0, 3).map((value, index) => (\r\n                                <Link key={index} className=\"flex-shrink-0\" to={\"/read/\" + convertToSlug(value.title) + \"/\" + value._id}>\r\n                                    <div className=\"d-flex align-items-center mb-3\">\r\n                                        <img className=\"rounded\" src={Host + value.image} width=\"64\" alt=\"Post image\" />\r\n                                        <div className=\"ps-3\">\r\n                                            <h6 className=\"blog-entry-title fs-sm mb-0\">\r\n                                                {value.title.slice(0, 44) + \"...\"}\r\n                                            </h6>\r\n                                            <span className=\"fs-ms text-muted\">by {\" \"}\r\n                                                <Link to={`author/${value.author_id && value.author_id._id}`} className='blog-entry-meta-link'>{value.author_id && uppercaseFirstLetter(value.author_id.name)}</Link>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </Link>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    <div className=\"bg-size-cover bg-position-center rounded-3 py-5 mx-lg-2\"\r\n                        style={{ backgroundImage: 'url(\"http://localhost:5254/uploads/ad-banner/0QPA5MX1.jpg\")' }}>\r\n                        <div className=\"py-5 px-4 text-center\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </aside>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React, { useRef } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { convertToSlug, Host } from \"../../helpers/comman_helper\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\n\r\nconst NewsCard = ({ shortsData, setShareShort }) => {\r\n\r\n  return (\r\n    <>\r\n      <article className=\"masonry-grid-item\">\r\n        <div className=\"card gallery\">\r\n          <Toaster />\r\n          <img\r\n            className=\"card-img-top\"\r\n            src={`${Host + shortsData.image}`}\r\n            alt=\"Post\"\r\n          />\r\n          <div className=\"card-body\">\r\n            <h2 className=\"h6 blog-entry-title\" title={shortsData.title}>\r\n              <Link\r\n                to={\r\n                  shortsData && shortsData.title\r\n                    ? \"/read/\" +\r\n                    convertToSlug(shortsData.title) +\r\n                    \"/\" +\r\n                    shortsData._id\r\n                    : \"\"\r\n                }\r\n              >\r\n                {shortsData.title}\r\n              </Link>\r\n            </h2>\r\n            <p className=\"news-additional-info\" title={shortsData.title}>\r\n              Shorts by{\" \"}\r\n              <span>\r\n                <Link className=\"me-2 mb-2\" to={`/author/${shortsData.author_id && shortsData.author_id._id}`}>\r\n                  {shortsData.author_id && shortsData.author_id.name}\r\n                </Link>\r\n                {\r\n                  new Date(shortsData.createdAt).toDateString()\r\n                }\r\n              </span>\r\n            </p>\r\n            <p className=\"fs-sm\">{shortsData.description}</p>\r\n            <p className=\"news-additional-info\" title={shortsData.read_at}>\r\n              Read More at{\" \"}\r\n              <span>\r\n                <a\r\n                  target=\"_blank\"\r\n                  className=\"me-2 mb-2\"\r\n                  href={shortsData.read_at_link + process.env.REACT_APP_UTM_SOURCE}\r\n                >\r\n                  {shortsData.read_at}\r\n                </a>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"card-footer d-flex align-items-center fs-xs\">\r\n            <a target=\"_blank\"\r\n              className=\"blog-entry-meta-link\"\r\n              href={shortsData.read_at_link + process.env.REACT_APP_UTM_SOURCE}\r\n            >\r\n              {shortsData.summary}\r\n            </a>\r\n            <div className=\"ms-auto text-nowrap\" >\r\n              <span className=\"blog-entry-meta-divider mx-2\"></span>\r\n              <a\r\n                onClick={() => setShareShort({ shareID: shortsData._id, shareSlug: shortsData.slug })}\r\n                className=\"share-btn blog-entry-meta-link text-nowrap\"\r\n                href=\"#\"\r\n                id=\"share-btn\"\r\n                data-bs-toggle=\"modal\" data-bs-target=\"#modalDefault\"\r\n              >\r\n                <i className=\"ci-telegram \"></i> {/*31*/}\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n\r\n      <hr className=\"mb-4\" />\r\n\r\n    </>\r\n  );\r\n};\r\nexport default NewsCard;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Breadcrumb = ({ page, title }) => {\r\n    return (\r\n        <div className=\"bg-secondary py-4\">\r\n            <div className=\"container d-lg-flex justify-content-between py-2 py-lg-3\">\r\n                <div className=\"order-lg-2 mb-3 mb-lg-0 pt-lg-2\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb flex-lg-nowrap justify-content-center justify-content-lg-start\">\r\n                            <li className=\"breadcrumb-item\">\r\n                                <Link className=\"text-nowrap\" to=\"/\">\r\n                                    <i className=\"ci-home\"></i>Home\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"breadcrumb-item text-nowrap\">\r\n                                {page}\r\n                            </li>\r\n                            <li className=\"breadcrumb-item text-nowrap active\" aria-current=\"page\">\r\n                                {title}\r\n                            </li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n                <div className=\"order-lg-1 pe-lg-4 text-center text-lg-start\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Breadcrumb;","import React, { useState } from \"react\";\r\nimport { authorCardData } from '../../data/dummydata.json'\r\nimport { Endpoints, getUserToken, Host } from \"../../helpers/comman_helper\";\r\nimport '../../assets/css/custom.css'\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst FollowCategoryCard = (props) => {\r\n    var user = authorCardData[0];\r\n    const [followBtn, setFollowBtn] = useState('Follow');\r\n    const [loading, setLoading] = useState(false);\r\n    const followAction = async () => {\r\n        setLoading(true);\r\n        var followInfo = {\r\n            categoryId: props.id,\r\n            userId: getUserToken().data._id\r\n        }\r\n        var url = Host + Endpoints.follow\r\n        const result = await axios.post(url, followInfo, {\r\n            headers: {\r\n                token: getUserToken().token\r\n            }\r\n        });\r\n        if (result.data.error === true) {\r\n            console.log('Please reload the app!')\r\n        } else {\r\n            if (result.data.title === 'followed') {\r\n                setFollowBtn('Following');\r\n            } else {\r\n                setFollowBtn('Follow');\r\n            }\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex flex-wrap justify-content-between align-items-center pb-4 mt-n1 follow-area\">\r\n            <div className=\"d-flex align-items-center fs-sm mb-2\">\r\n                <Link className=\"blog-entry-meta-link\" to={`/author/${user.userName}`}>\r\n                    <div className=\"blog-entry-author-ava\">\r\n                        <img className=\"fit-image\" src={Host + user.image} alt={user.name} />\r\n                    </div>{user.name}\r\n                </Link>\r\n                <span className=\"blog-entry-meta-divider\"></span>\r\n                <a className=\"blog-entry-meta-link\" href=\"#\">Shorts: {user.shortsCount}</a>\r\n            </div>\r\n            <div className=\"fs-sm a mb-2\">\r\n                {\r\n                    getUserToken() === null ? (\r\n                        <a href=\"#signin-modal\" data-bs-toggle=\"modal\" className=\"btn btn-primary btn-sm\">\r\n                            Follow <span>{user.followCount}</span>\r\n                        </a>\r\n                    ) : (\r\n                        <button className=\"btn btn-primary btn-sm\" onClick={followAction} style={{ borderRadius: \"25px\" }}>\r\n                            {followBtn}  {loading === true ? <i className=\"fs-lg me-2 spinner-border spinner-border-sm\" role=\"status\"></i> : ''}\r\n                        </button>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default FollowCategoryCard;","import React, { useState, useEffect } from 'react';\r\nimport Header from '../layouts/Header';\r\nimport Breadcrumb from '../layouts/Breadcrumb';\r\nimport Sidebar from '../layouts/Sidebar';\r\nimport Footer from '../layouts/Footer';\r\nimport NewsCard from '../sections/NewsCard';\r\nimport { Host, Endpoints } from '../../helpers/comman_helper';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router';\r\nimport Loading from '../sections/Loading';\r\nimport FollowCategoryCard from '../sections/FollowCategoryCard';\r\n\r\nfunction Category() {\r\n    const [shorts, setShorts] = useState([]);\r\n    const [page, setPage] = useState(1);\r\n    const [loading, setLoading] = useState(false);\r\n    const [hasMore, setHasMore] = useState(true);\r\n    const [size, setSize] = useState(2);\r\n    const [shareShort, setShareShort] = useState({ shareID: 0, shareSlug: null });\r\n    const { slug, newsID } = useParams();\r\n\r\n    const getShortsByCategory = async (page) => {\r\n        if (hasMore === true) {\r\n            setLoading(true);\r\n            const url = Host + Endpoints.category + `/${slug}?page=${page}&size=${size}`;\r\n            const result = await axios.get(url);\r\n\r\n            if (result.data.error === true) {\r\n                console.log('there are some errors!')\r\n            } else {\r\n                result.data.data.posts.length === 0 ? setHasMore(false) : setShorts([...shorts, ...result.data.data.posts]);\r\n                setLoading(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getShortsByCategory(page);\r\n    }, [newsID, page]);\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Breadcrumb page=\"category\" title={slug} />\r\n            <div className=\"container-fluid pb-5 mb-2 mb-md-4\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row pt-5 mt-md-2\">\r\n                        <div className=\"col-lg-3\"></div>\r\n                        <div className=\"col-lg-6\">\r\n                            <FollowCategoryCard id={newsID} />\r\n                            {\r\n                                shorts.map((shortsData, index) => (\r\n                                    <NewsCard key={index} shortsData={shortsData} setShareShort={setShareShort} />\r\n                                ))\r\n                            }\r\n                            <Loading loading={loading} hasMore={hasMore} setPage={setPage} page={page} />\r\n\r\n                        </div>\r\n                        <Sidebar />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Category\r\n"],"sourceRoot":""}