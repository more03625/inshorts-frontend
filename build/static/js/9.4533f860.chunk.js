(this["webpackJsonpinshorts-frontend"]=this["webpackJsonpinshorts-frontend"]||[]).push([[9],{53:function(e,t,s){"use strict";s(0);var a=s(10),c=s(9),r=s(1);t.a=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("header",{className:"bg-light shadow-sm navbar-sticky",children:Object(r.jsx)("div",{className:"navbar navbar-expand-lg navbar-light",children:Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(a.b,{className:"navbar-brand d-none d-sm-block flex-shrink-0 me-4 order-lg-1",to:"/admin/dashboard",children:Object(r.jsx)("img",{src:c.b+"/uploads/logo/news-db-pc-light-logo.png",width:"142",alt:"NewsDB"})}),Object(r.jsx)(a.b,{className:"navbar-brand d-sm-none me-2 order-lg-1",to:"/admin/dashboard",children:Object(r.jsx)("img",{src:c.b+"/uploads/logo/news-db-mobile-light-logo.png",width:"74",alt:"NewsDB Mobile"})}),Object(r.jsxs)("div",{className:"navbar-toolbar d-flex align-items-center order-lg-3",children:[Object(r.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsxs)("div",{className:"navbar-tool dropdown ms-2",children:[Object(r.jsx)("a",{className:"navbar-tool-icon-box border dropdown-toggle",href:"#",children:Object(r.jsx)("img",{src:c.b+"/uploads/logo/news-db-pc-light-logo.png",width:"32",alt:"NewsDB Logo"})}),Object(r.jsxs)("a",{className:"navbar-tool-text ms-n1",href:"#",children:[Object(r.jsx)("small",{children:Object(c.f)().data.name})," #Editors"]}),Object(r.jsx)("div",{className:"dropdown-menu dropdown-menu-end",children:Object(r.jsxs)("div",{style:{minWidth:"14rem"},children:[Object(r.jsx)("h6",{className:"dropdown-header",children:"Account"}),Object(r.jsxs)("a",{className:"dropdown-item d-flex align-items-center",href:"#",onClick:c.g,children:[Object(r.jsx)("i",{className:"ci-arrow-right-circle opacity-60 me-2"}),"Logout"]})]})})]})]})]})})})})}},54:function(e,t,s){"use strict";s(0);var a=s(10),c=s(1);t.a=function(){var e=window.location.pathname;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("aside",{className:"col-lg-4 pe-xl-5",children:[Object(c.jsx)("div",{className:"d-block d-lg-none p-4",children:Object(c.jsxs)("a",{className:"btn btn-outline-accent d-block",href:"#account-menu","data-bs-toggle":"collapse",children:[Object(c.jsx)("i",{className:"ci-menu me-2"}),"Account menu"]})}),Object(c.jsx)("div",{className:"h-100 border-end mb-2",children:Object(c.jsxs)("div",{className:"d-lg-block collapse",id:"account-menu",children:[Object(c.jsx)("div",{className:"bg-secondary p-4",children:Object(c.jsx)("h3",{className:"fs-sm mb-0 text-muted",children:"Account"})}),Object(c.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(c.jsx)("li",{className:"border-bottom mb-0 ".concat("/admin/dashboard"===e?"active":""," "),children:Object(c.jsxs)(a.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/admin/dashboard",children:[Object(c.jsx)("i",{className:"ci-settings opacity-60 me-2"}),"Dashboard"]})}),Object(c.jsx)("li",{className:"border-bottom mb-0 ".concat("/admin/add-short"===e?"active":""," "),children:Object(c.jsxs)(a.b,{className:"nav-link-style d-flex align-items-center px-4 py-3",to:"/admin/add-short",children:[Object(c.jsx)("i",{className:"ci-add-circle opacity-60 me-2"}),"Add Shorts"]})}),Object(c.jsx)("li",{className:"border-bottom mb-0 ".concat("/admin/edit-shorts"===e?"active":""," "),children:Object(c.jsxs)(a.b,{className:" nav-link-style d-flex align-items-center px-4 py-3",to:"/admin/edit-shorts",children:[Object(c.jsx)("i",{className:"ci-edit opacity-60 me-2"}),"Edit Shorts"]})})]}),Object(c.jsx)("hr",{})]})})]})})}},55:function(e,t,s){"use strict";s(0);var a=s(9),c=s(1);t.a=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"page-title-overlap bg-accent pt-4",children:Object(c.jsx)("div",{className:"container d-flex flex-wrap flex-sm-nowrap justify-content-center justify-content-sm-between align-items-center pt-2",children:Object(c.jsxs)("div",{className:"d-flex align-items-center pb-3",children:[Object(c.jsx)("div",{className:" img-thumbnail rounded-circle position-relative flex-shrink-0",style:{width:"6.375rem"},children:Object(c.jsx)("img",{className:"rounded-circle",src:a.b+"/uploads/user-profile/newsdb-admin-logo.png",alt:"Createx Rahul"})}),Object(c.jsxs)("div",{className:"ps-3",children:[Object(c.jsx)("h3",{className:"text-light fs-lg mb-0",children:"Rahul More"}),Object(c.jsx)("span",{className:"d-block text-light fs-ms opacity-60 py-1",children:"#NewsDB Editors"})]})]})})})})}},56:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var a=s(16);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function r(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){Object(a.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}},85:function(e){e.exports=JSON.parse('{"b":["publish","draft","delete"],"a":["Hindustan Times","The New Indian Express","Business Insider India","The News Minute","Live Mint","CricTracker","Times Now","The Next Web","Twitter","Paytm","India Today","The Times Of India","Cricbuzz","Sportskeeda","ESPNcricinfo","Amazon","Flipkart","The Indian Express","India Times","News 18","Cointelegraph","Gadgets 360"]}')},95:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(53),r=s(54),n=s(55),l=s(16),i=s(56),o=s(37),d=s.n(o),m=s(38),b=s(40),j=s(2),u=s(10),h=s(9),p=s(39),x=s.n(p),O=s(85),g=s(15),f=s(1),v=function(){var e=Object(j.g)().shortsID,t=Object(a.useState)(null),s=Object(b.a)(t,2),c=s[0],r=s[1],n=Object(a.useState)({}),o=Object(b.a)(n,2),p=o[0],v=o[1],N=Object(a.useState)({defaultTitle:15,defaultDescription:60,defaultSummary:10,title:0,description:0,summary:0}),y=Object(b.a)(N,2),w=y[0],_=y[1],k=Object(a.useState)(!1),S=Object(b.a)(k,2),P=S[0],T=S[1],I=Object(a.useState)(!1),F=Object(b.a)(I,2),D=(F[0],F[1]),E=Object(a.useState)(null),C=Object(b.a)(E,2),R=C[0],V=C[1],A=Object(a.useState)(null),B=Object(b.a)(A,2),z=B[0],K=B[1],M=Object(a.useRef)(),U=Object(a.useRef)(),W=Object(a.useRef)(),L=Object(a.useRef)(),G=Object(a.useRef)(),J=Object(j.f)(),H=function(){var e=Object(m.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.b+h.a.category,e.next=3,x.a.get(t);case 3:!0===(s=e.sent).data.error?g.b.success(s.data.error):V(s.data.data.detail);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){r(Object(i.a)(Object(i.a)({},c),{},Object(l.a)({},e.target.name,e.target.value)))},q=function(){var t=Object(m.a)(d.a.mark((function t(s){var a,n,l,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),T(!0),!(null===c||""===c.title?(v({title:"Please add title"}),U.current.scrollIntoView(),0):""===c.status||void 0===c.status?(v({status:"Please select status"}),M.current.scrollIntoView(),0):""===c.description||void 0===c.description?(v({description:"Please add description"}),W.current.scrollIntoView(),0):""===c.summary||void 0===c.summary?(v({summary:"Please add summary"}),L.current.scrollIntoView(),0):""===c.image||void 0===c.image?(v({image:"Please add image"}),G.current.scrollIntoView(),0):""===c.read_at||void 0===c.read_at?(v({read_at:"Please select read at"}),0):""===c.read_at_link||void 0===c.read_at_link?(v({read_at_link:"Please add read more link"}),0):""===c.main_category||void 0===c.main_category?(v({main_category:"Please select main category"}),0):""===c.sub_categories||void 0===c.sub_categories?(v({sub_categories:"Please select sub category"}),0):""!==c.short_tags&&void 0!==c.short_tags||(v({short_tags:"Please add tags"}),0))){t.next=20;break}if(a=Object(h.d)(c.title),Object.assign(c,{slug:a,author_id:Object(h.f)().data._id}),void 0===c.isImageSelected&&Object.assign(c,{image:0}),n=h.b+h.a.news,l={headers:{token:Object(h.f)().token}},void 0===e){t.next=14;break}return t.next=11,x.a.put(n,c,l);case 11:t.t0=t.sent,t.next=17;break;case 14:return t.next=16,x.a.post(n,c,l);case 16:t.t0=t.sent;case 17:!1===(i=t.t0).data.error?(v(""),K(window.location.host+"/read/"+i.data.data.slug+"/"+i.data.data._id),setTimeout((function(){J.push("/admin/edit-shorts")}),2e3),r(null)):v({postShortError:i.data.title}),window.scrollTo({behavior:"smooth",top:0});case 20:T(!1);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(e,t,s){t=(t=(t=t.replace(/(^\s*)|(\s*$)/gi,"")).replace(/[ ]{2,}/gi," ")).replace(/\n /,"\n"),("title"===s&&t.split(" ").length>=w.defaultTitle||"description"===s&&t.split(" ").length>=w.defaultDescription||"summary"===s&&t.split(" ").length>=w.defaultSummary)&&e.preventDefault(),_("title"===s?Object(i.a)(Object(i.a)({},w),{},{title:t.split(" ").length}):"description"===s?Object(i.a)(Object(i.a)({},w),{},{description:t.split(" ").length}):Object(i.a)(Object(i.a)({},w),{},{summary:t.split(" ").length})),r(Object(i.a)(Object(i.a)({},c),{},Object(l.a)({},s,t)))},X=function(){var t=Object(m.a)(d.a.mark((function t(){var s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=7;break}return T(!0),s=h.b+h.a.news+"/".concat(e),t.next=5,x.a.get(s);case 5:!0===(a=t.sent).data.error?g.b.error(a.data.title):(null===a.data.data?D(!0):r(a.data.data),T(!1));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){H(),X()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("section",{className:"col-lg-8 pt-lg-4 pb-4 mb-3",children:[Object(f.jsx)(g.a,{}),Object(f.jsxs)("div",{className:"pt-2 px-4 ps-lg-0 pe-xl-5",children:[z&&Object(f.jsxs)("div",{className:"alert alert-success d-flex",role:"alert",children:[Object(f.jsx)("div",{className:"alert-icon",children:Object(f.jsx)("i",{className:"ci-check-circle"})}),Object(f.jsxs)("div",{children:["Post has been addedd successfully ",Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:z,className:"alert-link",children:"View Post"})]})]}),p.postShortError&&Object(f.jsxs)("div",{className:"alert alert-success d-flex",role:"alert",children:[Object(f.jsx)("div",{className:"alert-icon",children:Object(f.jsx)("i",{className:"ci-check-circle"})}),Object(f.jsx)("div",{children:p.postShortError})]}),Object(f.jsxs)("div",{className:"d-sm-flex flex-wrap justify-content-between align-items-center pb-2 ",children:[Object(f.jsx)("h2",{className:"h3 py-2 me-2 text-center text-sm-start",children:void 0!==e?"Edit shorts":"Add New Short"}),Object(f.jsxs)("div",{className:"py-2",children:[Object(f.jsxs)("select",{className:"form-select me-2",name:"status",onChange:function(e){return $(e)},value:c&&c.status?c.status:"",ref:M,children:[Object(f.jsx)("option",{value:"",children:"Select status"}),O.b.map((function(e,t){return Object(f.jsx)("option",{value:e,children:Object(h.h)(e)})}))]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.status})]})]}),Object(f.jsxs)("form",{onSubmit:q,children:[Object(f.jsxs)("div",{className:"mb-3 pb-2",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-product-name",children:"Shorts Title"}),Object(f.jsx)("input",{className:"form-control",type:"text",id:"unp-product-name",name:"title",onKeyPress:function(e){return Q(e,e.target.value,"title")},defaultValue:c&&c.title,ref:U}),Object(f.jsxs)("div",{className:"form-text",children:["Total word count: ",Object(f.jsx)("b",{children:w.title})," words. Words left: ",Object(f.jsx)("b",{children:w.defaultTitle-w.title})]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.title})]}),Object(f.jsxs)("div",{className:"mb-3 py-2",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-shortds-description",children:"Shorts description"}),Object(f.jsx)("textarea",{className:"form-control",rows:"6",id:"unp-shortds-description",name:"description",onKeyPress:function(e){return Q(e,e.target.value,"description")},defaultValue:c&&c.description,ref:W}),Object(f.jsxs)("div",{className:"form-text",children:["Total word count: ",Object(f.jsx)("b",{children:w.description})," words. Words left: ",Object(f.jsx)("b",{children:w.defaultDescription-w.description})]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.description})]}),Object(f.jsxs)("div",{className:"mb-3 pb-2",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-product-name",children:"Short Summary | Add Intresting Facts | Previous | Achievement"}),Object(f.jsx)("input",{className:"form-control",type:"text",id:"unp-product-name",name:"summary",onKeyPress:function(e){return Q(e,e.target.value,"summary")},defaultValue:c&&c.summary,ref:L}),Object(f.jsxs)("div",{className:"form-text",children:["Total word count: ",Object(f.jsx)("b",{children:w.summary})," words. Words left: ",Object(f.jsx)("b",{children:w.defaultSummary-w.summary})]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.summary})]}),Object(f.jsxs)("div",{className:"mb-3 pb-2",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-product-files",children:"Add attractive image"}),Object(f.jsx)("input",{className:"form-control",type:"file",id:"unp-product-files",name:"image",onChange:function(e){return function(e){var t=e.target.files[0];Object(h.e)(t,(function(e,s){return t.size>5e4?(alert("File size should be below 50 KB"),document.getElementById("unp-product-files").value="",!1):600!==e&&358!==s?(alert("Only ".concat(600," * ").concat(358," image allowed")),document.getElementById("unp-product-files").value="",!1):void Object(h.c)(t).then((function(e){r(Object(i.a)(Object(i.a)({},c),{},{image:e,isImageSelected:!0}))}))}))}(e)},accept:"image/jpeg, image/jpg, image/png, image/webp",ref:G}),Object(f.jsxs)("div",{className:"form-text",children:["Use ",Object(f.jsx)(u.b,{to:{pathname:"https://tinypng.com/"},children:"Tinypng"})," or ",Object(f.jsx)(u.b,{to:{pathname:"https://compressimage.toolur.com/"},children:"Toolur"})," to compress images. it should be less than 50KB & Dimensions should be 600 * 358"]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.image})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-standard-price",children:"Read at"}),Object(f.jsxs)("select",{className:"form-select me-2",id:"unp-category",name:"read_at",onChange:function(e){return $(e)},value:c&&c.read_at?c.read_at:"",children:[Object(f.jsx)("option",{value:"",children:"Read at"}),O.a.map((function(e,t){return Object(f.jsx)("option",{value:e,children:e},t)}))]}),Object(f.jsx)("div",{className:"form-text",children:"Select read more brands!"}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.read_at})]}),Object(f.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-extended-price",children:"Read more link"}),Object(f.jsx)("input",{className:"form-control",type:"text",id:"unp-product-name",placeholder:"https://newsdb.in",name:"read_at_link",onChange:function(e){return $(e)},defaultValue:c&&c.read_at_link}),Object(f.jsx)("div",{className:"form-text",children:"Please enter a valid URL"}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.read_at_link})]})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-standard-price",children:"Main Category"}),Object(f.jsxs)("select",{className:"form-select me-2",id:"unp-category",name:"main_category",onChange:function(e){return $(e)},value:c&&c.main_category&&c.main_category._id,children:[Object(f.jsx)("option",{value:"",children:"Select category"}),R&&R.map((function(e,t){return Object(f.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(f.jsx)("div",{className:"form-text",children:"Select only from suggestions!"}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.main_category})]}),Object(f.jsxs)("div",{className:"col-sm-6 mb-3",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-extended-price",children:"Sub categories"}),Object(f.jsxs)("select",{className:"form-select me-2",id:"unp-category",name:"sub_categories",onChange:function(e){return $(e)},value:c&&c.sub_categories,children:[Object(f.jsx)("option",{value:"",children:"Select sub category"}),R&&R.map((function(e,t){return Object(f.jsx)("option",{value:e._id,children:e.name},t)}))]}),Object(f.jsx)("div",{className:"form-text",children:"Select only from suggestions!"}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.sub_categories})]})]}),Object(f.jsxs)("div",{className:"mb-3 py-2",children:[Object(f.jsx)("label",{className:"form-label",htmlFor:"unp-product-tags",children:"Shorts tags"}),Object(f.jsx)("input",{className:"form-control",placeholder:"enter keywords",name:"short_tags",onChange:function(e){return $(e)},defaultValue:c&&c.short_tags}),Object(f.jsxs)("div",{className:"form-text",children:["Use trending keywords only to get traffic from Google! (Use ",Object(f.jsx)(u.b,{to:{pathname:"https://www.google.com/"},children:"Google autocomplete"})," feature to get trending keywords)"]}),Object(f.jsx)("p",{className:"text-danger fs-md",children:p.short_tags})]}),Object(f.jsxs)("button",{className:"btn btn-primary d-block w-100",type:"submit",disabled:P,children:[Object(f.jsx)("i",{className:"ci-cloud-upload fs-lg me-2"}),void 0!==e?"Update shorts":"Add Shorts","  "," ",!0===P?Object(f.jsx)("i",{className:"fs-lg me-2 spinner-border spinner-border-sm",role:"status"}):""]})]})]})]})})};t.default=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(c.a,{}),Object(f.jsx)(n.a,{}),Object(f.jsx)("div",{className:"container mb-5 pb-3",children:Object(f.jsx)("div",{className:"bg-light shadow-lg rounded-3 overflow-hidden",children:Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)(r.a,{}),Object(f.jsx)(v,{})]})})})]})}}}]);
//# sourceMappingURL=9.4533f860.chunk.js.map